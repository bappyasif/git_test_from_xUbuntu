<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Basic String Scripting Examples</title>
</head>

<body>
    <button>Press Here</button>
    <h4></h4>
    <section></section>
    <article></article>
    <script>
        console.log("Double Quotes");
        console.log('Single Quotes');
        console.log(`Backticks Quotes`);
        console.log(`Using Backticks with ${2+2}`);

        let s1 = '2 + 2';
        let s2 = new String('2 + 2');
        console.log(eval(s1));
        console.log(eval(s2), eval(s2.valueOf()));
        
        let button = document.querySelector("button");
        button.onclick = function() {
            let name = prompt("What is your name");
            alert(`Hello ${name}, nice to see you`);
        }
        
        let myDate = "22" + '67';
        console.log(myDate, typeof(myDate));
        let examScore = 47;
        let examHighestScore = 74;
        let examReport = `You scored ${examScore} / ${examHighestScore}. (${Math.round(examScore/examHighestScore * 100)}%). ${examScore >= 49 ? "Well done, you've passed" : "Nice try, better luck next time"}`;
        let showReport = document.querySelector("h4");
        showReport.textContent = examReport;

        let str4 = "Please locate where 'locate' occurs!";
        console.log(str4.indexOf("locate", 15), str4.lastIndexOf("locate", 15));
        console.log(str4.search("locate"));
        str4  = "Apple, Banana, Kiwi, Peach";
        console.log(str4.slice(-12, -6));
        console.log(str4.substr(7,6));
        str4 = "Please visit MicrosofT!";
        console.log(str4.replace(/Microsoft/i, "W3Schools"));
        str4 = "Please visit Microsoft and Microsoft!";
        console.log(str4.replace(/Microsoft/g, "W3Schools"));

        function sum(a,b) {
            return a + b;
        }
        console.log(`Expression Value : ${sum(2,2)}`);

        let guestList = `Guests:
        *Jane
        *Gillian
        *Marie
        *Nina
        `;
        console.log(guestList);

        guestList = "Guests: \n* Jane \n* Gillian \n* Marie \n* Nina"
        console.log(guestList);

        let str1 = "Hello\nWorld";
        let str2 = `Hello
        World`;
        // console.log(str1 == str2);

        console.log("\u00a9");
        // console.log("\u{20331}");
        console.log("\u{1f60d}");
        
        console.log(str1.length == str2.length);
        console.log(str1[0]);
        console.log(str2.charAt(str2.length - 1));

        for(let char of str2) console.log(char);

        let str = "Hi";
        str[0] = "h";
        console.log(str);
        console.log(str.toLowerCase());

        str = "Hello";
        str = "h"+str.slice(1,str.length);
        console.log(str);
        console.log(str.toUpperCase());

        console.log(str2.indexOf("world"));
        console.log(str2.indexOf("World"));
        console.log(str1.indexOf("world"));
        console.log(str1.indexOf("World"));

        console.log(str2.indexOf("o", 2));
        console.log(str1.indexOf("l", 2));

        str = "As sly as a fox, as strong as an ox";
        let target = "as";

        let pos = 0;
        while(1===1) {
            let foundPos = str.indexOf(target, pos);
            if(foundPos === -1) break;

            console.log(`Found "${target}" At : ${foundPos}`);
            pos = foundPos + 1;
        }

        pos = -1;
        while((pos = str.indexOf(target, pos + 1)) != -1) console.log(`Found "${target}" At : ${pos}`);

        console.log(str2.lastIndexOf("l", str2.length))
        console.log(str1.lastIndexOf("e", str1.length))

        if(str2.indexOf("Hello")) console.log("Found It"); // finds at 0 making it false
        if(str1.indexOf("Hello") != -1) console.log("Found It") // Works now
        if(~str1.indexOf("Hello")) console.log("Found It") // Works now, as found
        

        console.log(str2.includes("d"));
        console.log(str1.includes("ld", 2));

        console.log(str.startsWith("As"));
        console.log(str.endsWith("ox"));

        console.log(str2.slice(2));
        console.log(str1.slice(2, 4));

        console.log(str2.slice(-4, -2));
        console.log(str1.slice(-2, str1.length));

        console.log(str2.substr(2,4));
        console.log(str1.substr(8,2));

        console.log("stringify".substring(6,2));
        console.log("stringify".substr(-4, 2));

        console.log("z".codePointAt(0));
        console.log("Z".codePointAt(0));

        console.log(String.fromCodePoint("z".codePointAt(0)));
        console.log(String.fromCodePoint("Z".codePointAt(0)));

        str = "";
        for(let i = 65; i < 220; i++) {
            str += " "+String.fromCodePoint(i);
        }
        console.log(str);

        console.log("   howdy     ".trim());
        console.log(str.repeat(2));


        // Tasks

        // first character make uppercase
        console.log("john"[0].toUpperCase() + "john".slice(1)) ;
        function ucFirst(str) {
            if(!str) return str;
            return str[0].toUpperCase() + str.slice(1);
        }
        console.log(ucFirst("jane"));

        // Check for Spam Words
        function checkSpam(str) {
            if(!str)return str;
            return str.toLowerCase().includes("viagra") || str.includes("XXX");
        }
        console.log(checkSpam("buy Viagra"));
        console.log(checkSpam("free XXXXX"));

        //  Turncate any given text
        function turncateText(str, maxLength) {
            // if(!str) return str;
            // return str.slice(0, maxLength) + "...."
            return str.length > maxLength ? str.slice(0, maxLength)+"...." : str;
        }
        console.log(turncateText("bcdefgh", 4));

        // Extract Given Money Symbol
        // console.log(typeof("$"));
        function extractCurrencyValue(str) {
            // if(typeof(str[0]) != "number") return str;
            return str.slice(1);
        }
        console.log(extractCurrencyValue("$120"));

        //concat strings
        let quoteStart = "Don't judge each day by the harvest you reap";
        let quoteEnd = " but by the seeds that you plant";
        let finalQuote = quoteStart + quoteEnd;
        let section = document.querySelector("section");
        section.innerHTML = " ";
        let para1 = document.createElement("p");
        para1.textContent = finalQuote;
        section.appendChild(para1);

        // Strings methods
        let quote = "I do not like green eggs and ham. I do not like them, aBappy-I-Am";
        let substring =  "green eggs and ham";
        let index = quote.substr(substring);
        let revisedQuote = quote.split(".")[0];
        revisedQuote = quote.substr(0, quote.indexOf(".")) + ".";
        let article = document.querySelector("article");
        article.innerHTML = "";
        let p1 = document.createElement("p");
        p1.textContent = `The quote is ${quote.length} characters long`;
        let p2 = document.createElement("p");
        p2.textContent = revisedQuote;
        article.appendChild(p1);
        article.appendChild(p2);

        // More methods
        quote = "I dO nOT lIke gREen eGgs anD HAM";
        section = document.createElement("section");
        document.body.appendChild(section);
        section.innerHTML = "";
        function capitalizeString(str) {
            return str.toLowerCase().replace(/\b\w/g, l => l.toUpperCase());
        }
        // let fixedQuote = quote.toLowerCase().replace(/\b\w/g, l =>l.toUpperCase())+".";
        // fixedQuote = fixedQuote.replace("Green Eggs And Ham", "no clue.");
        let fixedQuote = capitalizeString(quote);
        fixedQuote = fixedQuote.toLowerCase().replace("green eggs and ham", "no clue")+".";
        section.innerText = capitalizeString(fixedQuote);

        // Template Literals
        let theorem = "Pythagorean theorem";
        let a = 5;
        let b = 8;

        let myString = `Using *, we can work out that if the two shortest sides of a
        right-angled triangle have lengths of * and *, the length of the hypotenuse is *.`;

        myString = `Using ${theorem}, we can work out that if the two shortest sides of a
        right-angled triangle have lengths of ${a} and ${b}, the length of the hypotenuse is ${Math.sqrt(a*a + b*b).toFixed(4)}.`;

        article = document.createElement("article");
        document.body.appendChild(article);
        article.innerHTML = "";
        para1 = document.createElement("p");
        para1.textContent = myString;
        article.appendChild(para1);

        // find position
        let txt = "abcdefghijklm";
        console.log(txt.indexOf("h"));

        // slice method
        txt = "I can eat Peaches all day";
        console.log(txt.slice(10), txt.slice(txt.indexOf("Peaches"), txt.indexOf("Peaches")+7));

        // replace method
        txt = "Hello World";
        console.log(txt.replace("Hello", "Welcome"));

        // to upper and lower
        console.log(txt.toUpperCase());
        console.log(txt.toLowerCase());

    </script>
</body>

</html>